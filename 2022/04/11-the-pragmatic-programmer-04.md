# 실용주의 프로그래머 📚 4장. 실용주의 편집증

## 3줄 요약

- 완벽한 소프트웨어는 만들 수 없다. 따라서 정확하고 잘 바뀌지 않는 규칙을 중심으로 설계하고 작성하라. 앞서나갈 필요도 없다.
- 에러는 발생한 장소에서 바로 터지도록 한다. 단정적으로 특정 상황에만 돌아가도록 하면 안정적으로 할 수 있다.
- 메소드, 함수에서는 하고자 하는 목적에 맞게 열고 닫는 것까지 마칠 수 있도록 하여 일관성을 높여야 한다. 값을 밖에서 참조하지 않고 immutable하게 짜려는 노력만으로도 좋을 것이다.

## 책에서 기억하고 싶은 내용을 써보세요.

완벽한 코드를 작성할 수 없다는 것을 알기 때문에 실수에 대비한 방어책들

1. 계약에 의한 설계(DBC)
    - 더하지도 덜하지도 않는 ‘딱 그만큼'만 하는 프로그램을 만드는 데에 초점을 맞추는 것.
    - 선행 조건, 후행 조건, 클래스 불변식을 가지고 있다.
    - 조건을 벗어나면 실행조차 되지 않게 한다면 최소한으로 엄격하게 작성한 코드가 될 것이다. (타입 사용하기, 얼리 리턴하기?)
    - 어겨서는 안 되는 고정된 규칙(신용 카드 중복 거래 금지) 을 가지고 있는 것이 큰 도움이 된다.
2. 죽은 프로그램은 거짓말을 하지 않는다.
    - 에러가 나면 바로 작동을 멈추게 해야 한다. 코드 실행 후 에러를 날리는 것은 좋지 않다.
    - 일반적으로 죽은 프로그램이 끼치는 피해 < 이상한 상태의 프로그램이 끼치는 피해
3. 단정적 프로그래밍
    - 단정문으로 불가능한 상황을 예방하라.
    - 매개변수가 null이어서는 안된다면 명시적으로 검사하라 ex `assert (result != null);`
    - 테스트가 모든 버그를 발견하지 않는다. 놓친 것을 잡기 위해 단정을 사용하는 것이다.
4. 자신이 시작한 것은 자신이 끝내라
    - a 함수가 불리고 a 안에는 b, c를 호출하여 읽기, 쓰기를 하게 하려고 한다. 이 때 b, c 안에 a가 가지고 있지 않은 변수를 참조해 수정하는 행동이 있다면, 그것은 자신이 시작한 것을 자신이 끝내는 것이 아니다.
    - 지역적으로 행동해라.

## 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요

- ‘계약에 의한 설계’와 ‘자신이 시작한 것은 자신이 끝내라’ 부분은 함수형 프로그래밍에서 immutable 규칙이 생각났다. immutable하게만 짜도 이부분에 절반 이상은 부합하는 코드를 짤 수 있을 것 같다.
- 가비지 컬렉션과 같은 메모리 효율성에 대한 내용도 나왔는데, 이것이 자바스크립트에서 얼마나 효용성이 있는 부분인지가 와닿지 않는다. 이부분은 추가적으로 공부를 해야할 것 같다.
- 단순한 목표를, 작은 단위로 이루어 나가기.
